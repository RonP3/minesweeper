(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],[,,,,,,,,,function(e,t,a){e.exports=a(19)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(7),s=a.n(r),u=(a(14),a(1)),o=a(2),l=a(4),h=a(3),c=a(5),m=(a(15),{FLAG:"\u2691",BOMB:"\ud83d\udca3"}),g={INPROGRESS:"In progress",WIN:"Win!",LOSE:"Lose!"},d={INPROGRESS:"In progress \ud83d\udca3",WIN:"Win! \ud83d\udea9",LOSE:"Lose! \ud83d\udd25"},p={HEIGHT:10,WIDTH:10,MINES:5,GAMENUM:0},f={INVALID_DIMENSION:"Invalid input! Width and height should be in range [1-300]",INVALID_MINES:"Number of mines should be in range [1 - board dimension]"},N=300,E="No more flags!",b=0,S=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i)))).state={heightInput:p.HEIGHT,widthInput:p.WIDTH,mineInput:p.MINES},a.isNumber=function(e){return!(!/^[0-9\b]+$/.test(e)&&""!==e)},a.handleHeightChange=function(e){var t=e.target.value;a.isNumber(t)&&(t=Number(t),a.setState({heightInput:t}))},a.handlewidthChange=function(e){var t=e.target.value;a.isNumber(t)&&(t=Number(t),a.setState({widthInput:t}))},a.handleMinesChange=function(e){var t=e.target.value;a.isNumber(t)&&(t=Number(t),a.setState({mineInput:t}))},a}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement("div",{className:"Height"},i.a.createElement("label",null,"Height:"),i.a.createElement("input",{placeholder:"Height",key:"height",onChange:this.handleHeightChange,type:"text",value:this.state.heightInput})),i.a.createElement("div",{className:"Width"},i.a.createElement("label",null,"Width:"),i.a.createElement("input",{key:"width",onChange:this.handlewidthChange,type:"text",value:this.state.widthInput})),i.a.createElement("div",{className:"Mines"},i.a.createElement("label",null,"Mines:"),i.a.createElement("input",{key:"mines",onChange:this.handleMinesChange,type:"text",value:this.state.mineInput})),i.a.createElement("div",{className:"newGame"},i.a.createElement("button",{onClick:function(){return e.props.onBoardSettingsChange(e.state.heightInput,e.state.widthInput,e.state.mineInput)}},"New Game")))}}]),t}(n.Component),v=a(8),I=(a(16),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i)))).getSquareValueAndClass=function(){var e=a.props.square;return e.isExposed?e.isMine?[m.BOMB,"square square-boom"]:0===e.minesNeighbors?[".","square square-exposed"]:[e.minesNeighbors,"square square-exposed-number"]:e.isFlagged?[m.FLAG,"square square-flagged"]:[".","square"]},a}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.square,a=e.onSquareClick,n=this.getSquareValueAndClass(),r=Object(v.a)(n,2),s=r[0],u=r[1];return i.a.createElement("button",{className:u,onClick:function(e){return a(e,t.rowNum,t.colNum)}},s)}}]),t}(n.Component)),M=(a(17),function(e){function t(e){var a;Object(u.a)(this,t),(a=Object(l.a)(this,Object(h.a)(t).call(this,e))).state={boardData:[],remainingFlags:b,gameStatus:g.INPROGRESS},a.initializeBoardData=function(e,t,n){for(var i=[],r=0;r<e;r++){i.push([]);for(var s=0;s<t;s++)i[r].push({rowNum:r,colNum:s,isExposed:!1,isFlagged:!1,isMine:!1,minesNeighbors:0})}return a.setRandomMines(i,n,e,t),a.setNeighborsMinesSum(i,e,t),i},a.setRandomMines=function(e,t,a,n){for(var i=e,r=0;r<t;r++){var s=Math.floor(Math.random()*a),u=Math.floor(Math.random()*n);i[s][u].isMine?r--:i[s][u].isMine=!0}return i},a.getSquareNeighbors=function(e,t,a,n,i){var r=[];return e-1>=0&&r.push(a[e-1][t]),e+1<n&&r.push(a[e+1][t]),t+1<i&&r.push(a[e][t+1]),t-1>=0&&r.push(a[e][t-1]),e-1>=0&&t+1<i&&r.push(a[e-1][t+1]),e-1>=0&&t-1>=0&&r.push(a[e-1][t-1]),e+1<n&&t+1<i&&r.push(a[e+1][t+1]),e+1<n&&t-1>=0&&r.push(a[e+1][t-1]),r},a.setNeighborsMinesSum=function(e,t,n){for(var i=0;i<t;i++)for(var r=0;r<n;r++){!1===e[i][r].isMine&&function(){var s=0;a.getSquareNeighbors(i,r,e,t,n).forEach((function(e){e.isMine&&s++})),e[i][r].minesNeighbors=s}()}return e},a.exposeAllSquares=function(e){var t=a.state.boardData.map((function(e){return e.slice()}));t.forEach((function(e){e.forEach((function(e){e.isExposed=!0}))})),a.setState({boardData:t,remainingFlags:e})},a.exposeEmptySquare=function(e,t,n){var i=[];for(i.push([e,t]);i.length>0;){var r=i.pop();a.getSquareNeighbors(r[0],r[1],n,a.props.height,a.props.width).forEach((function(e){e.isExposed||0!==e.minesNeighbors&&e.isMine||e.isFlagged||(n[e.rowNum][e.colNum].isExposed=!0,0===e.minesNeighbors&&i.push([e.rowNum,e.colNum]))}))}return n},a.isFlagsEqualMines=function(){var e=a.state.boardData,t=0;return e.forEach((function(e){e.forEach((function(e){e.isFlagged&&e.isMine&&t++}))})),t===a.props.mines},a.handleSquareClick=function(e,t,n){e.shiftKey?a.handleShiftAndClick(t,n):a.handleLeftClick(t,n)},a.handleLeftClick=function(e,t){var n=a.state,i=n.boardData,r=n.remainingFlags,s=n.gameStatus;if(i[e][t].isFlagged||i[e][t].isExposed||s!==g.INPROGRESS)return null;if(i[e][t].isMine)return a.exposeAllSquares(r),a.setState({gameStatus:g.LOSE,remainingFlags:0}),null;var u=i.map((function(e){return e.slice()}));u[e][t].isExposed=!0,0===u[e][t].minesNeighbors&&(u=a.exposeEmptySquare(e,t,u)),a.setState({boardData:u})},a.handleShiftAndClick=function(e,t){var n=a.state,i=n.boardData,r=n.gameStatus;if(i[e][t].isExposed||r!==g.INPROGRESS)return null;var s=a.state.remainingFlags,u=i.map((function(e){return e.slice()})),o=s;if(u[e][t].isFlagged)u[e][t].isFlagged=!1,o++;else{if(0===s)return alert(E),null;if(!(o>0))return null;if(u[e][t].isFlagged=!0,0===--o&&a.isFlagsEqualMines())return a.setState({gameStatus:g.WIN,remainingFlags:o}),null}a.setState({boardData:u,remainingFlags:o})},a.setGameStatusMessage=function(e){return e===g.WIN?d.WIN:e===g.LOSE?d.LOSE:d.INPROGRESS},a.renderBoard=function(e){return i.a.createElement("div",{className:"board"},e.map((function(e,t){return i.a.createElement("div",{key:"row"+t,className:"row"},e.map((function(t){return i.a.createElement(I,{key:e.length*t.rowNum+t.colNum,square:t,onSquareClick:function(e){return a.handleSquareClick(e,t.rowNum,t.colNum)}})})))})))},a.componentDidUpdate=function(e){var t=a.props,n=t.height,i=t.width,r=t.mines,s=t.gameNum;if(n!==e.height||i!==e.width||r!==e.mines||s!==e.gameNum){var u=a.initializeBoardData(n,i,r);a.setState({boardData:u,remainingFlags:r,gameStatus:g.INPROGRESS})}};var n=e.height,r=e.width,s=e.mines;return a.state.remainingFlags=s,a.state.boardData=a.initializeBoardData(n,r,s),a}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state,t=e.boardData,a=e.gameStatus,n=e.remainingFlags;return i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{className:"remainingFlags"},"Remaining flags: ",i.a.createElement("span",{className:"flags"},n," ")),i.a.createElement("span",{className:"status"},"Game status: ",this.setGameStatusMessage(a)," "),this.renderBoard(t))}}]),t}(n.Component)),O=(a(18),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i)))).state={height:p.HEIGHT,width:p.WIDTH,mines:p.MINES,gameNum:p.GAMENUM},a.handleBoardSettingsChange=function(e,t,n){var i=a.state.gameNum+1;return e<=0||t<=0||n<0||t>N||e>N?(alert(f.INVALID_DIMENSION),null):n>e*t||0===n?(alert(f.INVALID_MINES),null):void a.setState({height:e,width:t,mines:n,gameNum:i})},a}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state,t=e.height,a=e.width,n=e.mines,r=e.gameNum;return i.a.createElement("div",{className:"root"},i.a.createElement(S,{onBoardSettingsChange:this.handleBoardSettingsChange}),i.a.createElement(M,{height:t,width:a,mines:n,gameNum:r}))}}]),t}(n.Component));s.a.render(i.a.createElement(O,null),document.getElementById("root"))}],[[9,1,2]]]);
//# sourceMappingURL=main.ee5e8440.chunk.js.map